from matplotlib import pyplot as plt
import pandas as pd
import numpy as np
import seaborn as sns

enemy1_fits = [45.89434857,47.63745186,49.4411372,47.6260882,49.64484908,50.62656993
,47.97740366,48.59935779,48.06615785,51.45566409,47.78034791,50.03168784
,53.722599, 50.41590252,50.68910727,50.29260458,51.73115022,52.52841078
,52.71847195,48.85356419,51.95806309,52.12377068,53.09740415,52.35928897
,50.92901651,50.69655895,51.11810148,52.53106699,54.55642521,51.8340142,]

enemy1_std_fits = [14.89648776,14.59140378,10.03788447,10.11290237, 6.2526327,  6.62862308
, 8.20297867, 7.72271987, 6.3751821,  8.11935937, 7.85489924, 4.78246267
, 4.02946431, 6.88174109, 5.23307793, 4.61088565, 5.87821906, 6.59254968
, 5.31182921, 5.41049391, 7.50196221, 6.29985704, 4.88849437, 4.14369795
, 6.27946591, 4.82450361, 5.66164418, 3.58461334, 4.38916699, 5.50889266]

enemy1_energy = [1.87 ,0.75 ,2.52 ,1.7 ,1.97 ,0.52 ,1.21 ,0.45 ,1.72 ,2.04 ,1.23 ,1.47 ,1.59 ,2.04
 ,2.11 ,0.93 ,1.51 ,3.19 ,2.39 ,0.99 ,2.8 ,0.81 ,3.2 ,1.46 ,1.46 ,1.42 ,0.8 ,1.
 ,2.32 ,2.31]

enemy1_energy_std = [2.69334365 ,1.40089257 ,2.15165053 ,2.20726075 ,2.93327462 ,0.75339233
 ,2.51732 ,1.35 ,2.44163879 ,2.86921592 ,1.90423213 ,2.84747256
 ,2.50657136 ,2.96047294 ,3.14847582 ,1.56208194 ,1.74094802 ,3.52518085
 ,2.92624333 ,1.79580066 ,3.49942852 ,1.76547444 ,4.03013647 ,2.38293936
 ,3.01734983 ,3.06881084 ,1.75271218 ,1.77482393 ,3.04098668 ,2.8738302 ,
]

enemy2_fits = [81.06476756,82.55212262,82.61081637,86.26577277,87.08944057,85.79504694
,86.55252764,87.54211202,88.92486711,88.41677308,88.55067156,86.87164967
,88.86033584,88.15470474,89.20916386,90.1783909,87.3995837,90.23476063
,88.25872043,88.19538187,87.67903449,88.94189801,90.10269794,89.36987699
,89.56917402,90.58954631,89.56409671,90.70546568,90.98443669,90.11907944
]

enemy2_std_fits = [25.33483895 ,21.90285623 ,17.30011685 ,8.42491305 ,7.95961105 ,9.46608345
 ,8.40585744 ,5.87497877 ,4.42533785 ,5.52570259 ,3.32082988 ,6.15241927
 ,3.92927876 ,4.18082671 ,4.31276639 ,2.60005632 ,3.40997014 ,1.410588
 ,4.64785813 ,5.73668468 ,4.21979662 ,3.72101445 ,3.08602775 ,2.85875599
 ,4.11970295 ,2.13467663 ,4.5308866 ,1.89061454 ,1.04875933 ,2.19251687]

enemy2_energy = [60.68 ,60.95 ,59.73 ,62.03 ,66.03 ,62.38 ,62.4 ,65.4 ,68.18 ,66.49 ,65.92 ,62.56
 ,66.71 ,63.43 ,68.17 ,69.11 ,64.85 ,70.8 ,65.33 ,63.82 ,63.7 ,66.95 ,67. ,66.69
 ,68.07 ,70.64 ,67.89 ,70.63 ,68.51 ,68.91]

enemy2_energy_std = [20.93283545,18.40870718,18.45069375,13.63121785,12.69472725,13.57901322
,12.48086535,9.28967168,7.77287592,11.85043881,7.84981528,13.31782264
,4.80737974,7.61656747,7.92502997,8.38348973,10.60011792,5.84790561
,6.54767898,11.27136194,7.84843934,8.81263298,9.05162969,10.00324447
,9.06918409,7.69248984,11.72206893,6.28284171,4.90417169,6.40210122]

enemy3_fits = [60.43510069,59.37845407,63.9732735,62.61742589,67.68931082,63.44053756
,67.93246299,71.11839738,68.11837766,67.39859313,69.21962006,67.26595901
,69.38790955,71.66450974,67.17922538,67.38447148,71.41416499,68.22076298
,67.11257739,65.75977411,65.48164489,67.38141777,68.83966781,70.46236988
,69.74043852,68.69399358,74.77786749,69.43673834,68.75348375,69.86385187]

std_enemy3_fits = [21.68005517,19.97635736,21.82326192,16.81283888,14.90501775,11.71953663
,12.90658369,11.70644169,13.85013881,16.94137868,14.21634767,8.5570221
,12.86225099,9.22970876,12.51134553,13.721548,12.15863603,12.39964514
,13.19703622,12.21514609,8.79949701,11.59531046,10.11907752,11.37655879
,7.58675287,11.56207039,10.20131916,8.66818924,8.65537914,11.31867114]

enemy3_energy = [13.99,13.89,16.14,14.42,16.43,13.73,16.25,16.83,15.86,17.4,17.27,14.56
,16.61,16.94,15.86,16.65,18.06,17.09,16.59,15.65,14.33,14.71,15.82,17.71
,16.78,16.72,19.81,16.18,16.11,17.61]

enemy3_energystd = [8.7867457 ,8.97546099 ,9.29776317 ,8.60729923 ,8.91516124 ,8.02808196
 ,9.19546084 ,8.47007084 ,9.78868735 ,9.28558022 ,8.8991067 ,7.36725186
 ,8.66953863 ,9.08363363 ,8.11470271 ,9.16266883 ,9.15676799 ,9.3705336
 ,8.56859965 ,9.982109 ,6.92272345 ,8.58002914 ,9.80773164 ,10.10004455
 ,7.7606443 ,9.96702563 ,9.98463319 ,8.17872851 ,7.20506072 ,8.15088339]


es_vals = [enemy1_fits,enemy2_fits,enemy3_fits]
es_std = [enemy1_std_fits,enemy2_std_fits,std_enemy3_fits]
es_energy = [enemy1_energy,enemy2_energy,enemy3_energy]
es_energy_std = [enemy1_energy_std,enemy2_energy_std,enemy3_energystd]

enemies = [1,2,3]
results_avg = []
results_std = []
means = []
stds = []
for x in enemies:
    if x==2:
        file = "GA_experiment_final_enemy_test2"
    else:
        file = "GA_experiment_final_enemy"+str(x)
    for i in range(10):
        print(file+"/results"+str(i)+".csv")
        result = pd.read_csv(file+"/results"+str(i)+".csv")
        results_avg.append(result["Energy"].values)
        results_std.append(result["Std_energy "].values)
    means.append(np.mean(results_avg,axis=0))
    stds.append(np.mean(results_std,axis=0))
    results_avg = []
    results_std = []

for x in enemies:
    mean_ga = means[x-1]
    std_ga = stds[x-1]
    mean_es = np.asarray(es_energy[x-1])
    std_es = np.asarray(es_energy_std[x-1])
    range = np.arange(30)
    print(mean_ga)
    plt.plot(range,mean_ga,'k-',label="GA",color="blue")
    plt.fill_between(range,mean_ga-std_ga,mean_ga+std_ga,alpha=0.2)
    plt.plot(mean_es,label="ES",color="red")
    plt.fill_between(range, mean_es - std_es, mean_es + std_es,alpha=0.2)
    plt.title("Average energy values over 30 generations")
    plt.legend()
    plt.savefig("plots/avgenergy_enemy"+str(x)+".png")
    plt.show()